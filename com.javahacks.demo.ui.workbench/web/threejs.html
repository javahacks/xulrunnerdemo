<!DOCTYPE html>
<html>

	<head>
		
		<link href="css/bootstrap.min.css" rel="stylesheet">
		
		<script  src="js/jquery-2.1.1.js"></script>
		<script src="js/application.js"></script>
		<script src="js/bootstrap.js"></script>
		<script src="js/three.min.js"></script>


	</head>
	
<style>

    body {
        -moz-user-select: none;
        -webkit-user-select: none;
    }

	a, a:active, a:focus {
		outline: none;
	}
	
	.tab-pane {

	    border-left: 1px solid #ddd;
	    border-right: 1px solid #ddd;
	    border-bottom: 1px solid #ddd;
	    border-radius: 0px 0px 5px 5px;
	    padding: 10px;
	}	

	.fill { 
    	height: 100px;
	}


</style> 
	

	<body  class="fill">
	
	
		<ul class="nav nav-tabs" role="tablist" id="myTab" >
	  		<li class="active"><a href="#webgl" role="tab" data-toggle="tab">WebGL Demo</a></li>
	  		<li><a href="#profile" role="tab" data-toggle="tab">Webix</a></li>	  		
		</ul>

		<div class="tab-content">
	  
		  <div class="tab-pane active" id="webgl" >
						 
			<center>
			
				<div id="canvas"></div>		  
		  		
		  		<button id="loadimage" type="button" class="btn btn-primary" >Screen Capture</button>
		  		<script>		  		
		  	
		  			$('#loadimage').click(function(){
						updateImage('http://127.0.0.1:8080/logo2.jpg');		
					});
		  			
		  		</script>
		  	
		  	</center>
		  
		  </div>
	  
		  <div class="tab-pane" id="profile">2</div>
		  <div class="tab-pane" id="messages">3	</div>
		  <div class="tab-pane" id="settings"></div>
		  
		</div>
	
		
		<script>

			var camera, scene, renderer;
			var mesh;

			init();
			animate();

			function init() {

				renderer = new THREE.WebGLRenderer({ alpha: true });
				renderer.setSize( window.innerWidth/2, window.innerHeight/2 );
				$("#canvas").append( renderer.domElement );

				camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
				camera.position.z = 400;

				scene = new THREE.Scene();

				var geometry = new THREE.BoxGeometry( 250, 250, 250);

				var texture = THREE.ImageUtils.loadTexture( 'logo.png' );
				texture.anisotropy = renderer.getMaxAnisotropy();

				var material = new THREE.MeshBasicMaterial( { map: texture } );

				mesh = new THREE.Mesh( geometry, material );
				scene.add( mesh );

				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth/2, window.innerHeight/2 );
			}

			function animate() {

				requestAnimationFrame( animate );

				mesh.rotation.x += 0.005;
				mesh.rotation.y += 0.01;

				renderer.render( scene, camera );

			}

			function updateImage(url){
				mesh.material.map = THREE.ImageUtils.loadTexture( url );
				mesh.material.needsUpdate = true;
			}

		</script>

	</body>
</html>
